(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{719:function(e,t,r){"use strict";r.r(t);var n=r(231),o=r(505),c=r(501),l=r(533),f=r(531),d=r(551),m=r(178),v=r(707),w=r(177),h=r(532),x=r(496),k=r(30),_=(r(8),r(92),{data:function(){return{data:[],db:null,selectedId:null,confirmDelete:!1}},created:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getDb();case 2:e.db=t.sent;case 3:case"end":return t.stop()}}),t)})))()},watch:{db:function(){this.db&&this.getData()}},methods:{getDb:function(){return Object(k.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){var r;(r=window.indexedDB.open("sonji",1)).onerror=function(e){console.log("Error opening db",e),t("Error")},r.onsuccess=function(t){e(t.target.result)},r.onupgradeneeded=function(e){console.log("onupgradeneeded");e.target.result.createObjectStore("image",{autoIncrement:!0,keyPath:"id"})}})));case 1:case"end":return e.stop()}}),e)})))()},getData:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,r){var n=e.db.transaction(["image"],"readonly");n.oncomplete=function(e){t(image)};var image=[];n.objectStore("image").openCursor().onsuccess=function(t){var cursor=t.target.result;console.log(cursor),cursor&&(e.data.push(cursor.value),cursor.continue())}})));case 1:case"end":return t.stop()}}),t)})))()},copyUrl:function(data){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$copyText(data);case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0),console.error(t.t0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},deleteConfirm:function(e){var t=this;return Object(k.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:t.confirmDelete=!0,t.selectedId=e;case 2:case"end":return r.stop()}}),r)})))()},deleteImage:function(){var e=this;return Object(k.a)(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.selectedId,t.next=3,e.deleteImageFromDb(r);case 3:e.confirmDelete=!1,e.data=[],e.getData();case 6:case"end":return t.stop()}}),t)})))()},deleteImageFromDb:function(e){var t=this;return Object(k.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",new Promise((function(r,n){var o=t.db.transaction(["image"],"readwrite");o.oncomplete=function(e){r()},o.objectStore("image").delete(e)})));case 1:case"end":return r.stop()}}),r)})))()}}}),D=r(80),component=Object(D.a)(_,(function(){var e=this,t=e._self._c;return t(f.a,{attrs:{fluid:""}},[t(w.b,[t(f.a,[t(h.a,e._l(e.data,(function(r,i){return t(l.a,{key:i,staticClass:"my-8",attrs:{cols:"12",md:"3"}},[t(v.a,[t(o.a,{staticClass:"d-flex align-center",attrs:{width:"350",height:"110%",color:"black"}},[t(m.a,{attrs:{src:r.base64}})],1)],1),e._v(" "),t("div",{staticClass:"d-flex"},[t(n.a,{staticClass:"mr-2 mt-2",attrs:{color:"green","x-small":""},on:{click:function(t){return e.copyUrl(r.url)}}},[e._v("Copy url")]),e._v(" "),t(n.a,{staticClass:"mr-2 mt-2",attrs:{color:"blue","x-small":""},on:{click:function(t){return e.copyUrl(r.base64)}}},[e._v("Copy base64")]),e._v(" "),t(n.a,{staticClass:"mt-2",attrs:{color:"error","x-small":""},on:{click:function(t){return e.deleteConfirm(r.id)}}},[e._v("delete")])],1)],1)})),1)],1)],1),e._v(" "),t(d.a,{attrs:{"max-width":"290"},model:{value:e.confirmDelete,callback:function(t){e.confirmDelete=t},expression:"confirmDelete"}},[t(o.a,[t(c.c,{staticClass:"text-h6"},[e._v(" Delete Confirmation")]),e._v(" "),t(c.b,[e._v(" Are you sure to delete this image? ")]),e._v(" "),t(c.a,[t(x.a),e._v(" "),t(n.a,{attrs:{color:"red",text:""},on:{click:function(t){e.confirmDelete=!1}}},[e._v("\n          Cancel\n        ")]),e._v(" "),t(n.a,{attrs:{color:"green darken-1",text:""},on:{click:function(t){return e.deleteImage()}}},[e._v("\n          Yes\n        ")])],1)],1)],1)],1)}),[],!1,null,null,null);t.default=component.exports}}]);